<div class="bg-gray-100 p-8 rounded-lg shadow-lg max-w-full mx-auto transform  h-[650px] overflow-auto">
  <h1 class="text-3xl font-bold mb-4 text-center">Lista de Usuarios</h1>
  <div class="flex justify-between items-center mb-4">
    <input type="text" placeholder="🔍 Buscar..." class="p-2 pl-8 border rounded-md w-1/3">
    <button (click)="redirectRegister()" class="p-2 bg-green-500 text-white rounded hover:bg-green-600">Agregar</button>
  </div>
  <div class="space-y-4">
    <div class="p-4 border rounded-lg bg-white grid grid-cols-1 sm:grid-cols-8 gap-4 items-center" *ngFor="let user of users">
      <div class="sm:col-span-1 break-words"><strong>Name:</strong> {{ user.name }}</div>
      <div class="sm:col-span-2 break-words"><strong>Email:</strong> {{ user.email }}</div>
      <!-- <div class="sm:col-span-2 break-words"><strong>Lastname:</strong> {{ user.lastname }}</div> -->
      <div class="sm:col-span-1 break-words"><strong>Phone:</strong> {{ user.phone }}</div>
      <div class="sm:col-span-1 break-words"><strong>Address:</strong> {{ user.address }}</div>
      <div class="sm:col-span-1 break-words">
        <strong>Roles:</strong>
        <ng-container *ngFor="let role of user.roles; let i = index">
          <span class="inline-block px-2 py-1 rounded-full text-white"
            [ngClass]="{
              'bg-blue-500': i % 6 === 2,
              'bg-red-500': i % 6 === 3,
              'bg-green-500': i % 6 === 4,
              'bg-yellow-500': i % 6 === 1,
              'bg-purple-500': i % 6 === 0,
              'bg-pink-500': i % 6 === 5
            }">{{ role.role_name+'' | roleTransformPipe }}</span>
        </ng-container>
      </div>
      <div class="sm:col-span-1 flex space-x-6 justify-center sm:justify-end">
        <button class="details-btn text-xl text-gray-500 hover:text-gray-700">
          <i class="fas fa-eye"></i>
        </button>
        <button (click)="editModal(user.user_id)" class="edit-btn text-xl text-blue-500 hover:text-blue-700">
          <i class="fas fa-user-edit"></i>
        </button>
        <button class="delete-btn text-xl text-red-500 hover:text-red-700">
          <i class="fa fa-close"></i>
        </button>
      </div>
    </div>
  </div>
</div>


<div class="fixed inset-0 flex items-center justify-center z-50" *ngIf="isVisible">
  <div class="fixed inset-0 bg-black opacity-50"></div>
  <div class="bg-white rounded-lg shadow-lg p-4 z-50">
    <button class="relative top-2 right- bg-red-800" (click)="closeModal()" >X</button>
      <app-edit-user [userId]="userID" ></app-edit-user>
  </div>
</div>





